final fixes here.

progress: complete
